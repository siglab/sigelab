<div class="content-wrapper">
  <!-- Content Header (Page header) -->
  <section class="content-header">
    <h1>
      Laboratorios de la Universidad del Valle
    </h1>
  </section>
  <!-- Main content -->
  <section class="content">
    <!-- Componente central de busqueda -->
    <div class="row">
      <div class="col-md-12 col-lg-12">
        <div class="box box-danger shadow">
          <div class="box-header">
            <i class="fa fa-search"></i>
            <h3 class="box-title">Búsqueda de información de laboratorios</h3>
            <a class="sidebar-toggle" id="image"> </a>
          </div>
          <div class="box-body">
            <div class="box-body">
              <div class="table-responsive">
                <div class="example-container mat-elevation-z8">
                  <div class="example-header">
                    <mat-form-field>
                      <input style="outline: none;" matInput (keyup)="applyFilter($event.target.value)" placeholder="Busca por nombre de laboratorio, escuela, línea de investigación o nombre del director"
                      />
                    </mat-form-field>
                  </div>
                  <mat-table #tableLabs #sort="matSort" [dataSource]="dataSource" matSort>
                    <!-- Position Column -->
                    <ng-container matColumnDef="nombre">
                      <mat-header-cell *matHeaderCellDef mat-sort-header>
                        Nombre
                      </mat-header-cell>
                      <mat-cell *matCellDef="let element">
                        {{ element.nombre }}
                      </mat-cell>
                    </ng-container>
                    <!-- Name Column -->
                    <ng-container matColumnDef="escuela">
                      <mat-header-cell *matHeaderCellDef mat-sort-header>
                        Escuela
                      </mat-header-cell>
                      <mat-cell *matCellDef="let element">
                        {{ element.escuela }}
                      </mat-cell>
                    </ng-container>
                    <!-- Weight Column -->
                    <ng-container matColumnDef="investigacion">
                      <mat-header-cell *matHeaderCellDef mat-sort-header>
                        Investigación
                      </mat-header-cell>
                      <mat-cell *matCellDef="let element">
                        {{ element.inves }}
                      </mat-cell>
                    </ng-container>
                    <!-- Symbol Column -->
                    <ng-container matColumnDef="director">
                      <mat-header-cell *matHeaderCellDef mat-sort-header>
                        Director
                      </mat-header-cell>
                      <mat-cell *matCellDef="let element">
                        {{ element.director }}
                      </mat-cell>
                    </ng-container>

                    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                    <mat-row *matRowDef="let row; columns: displayedColumns" (click)="cambiardata(row)" style="cursor: pointer   "></mat-row>
                  </mat-table>
                  <mat-paginator #paginator="matPaginator" [pageSize]="10" [pageSizeOptions]="[5, 10, 20]" [showFirstLastButtons]="true">
                  </mat-paginator>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div *ngIf="!moduloinfo" class="row">
      <div class="col-md-12 col-lg-12">
        <div class="box box-danger shadow">
          <div class="box-body no-data">
            <h4>NO SE HA SELECCIONADO NINGÚN LABORATORIO</h4>
          </div>
        </div>
      </div>
    </div>
    <div id="detalle" *ngIf="moduloinfo" class="row">
      <div class="col-md-12 col-lg-12">
        <div class="box box-danger shadow">
          <div class="box-body">
            <div class="box-header">
              <i class="fa fa-building"></i>
              <h3 class="box-title">Detalles del laboratorio seleccionado</h3>
            </div>
            <div class="col-md-12">
              <div class="row" style="margin-top:20px;">
                <!-- INFORMACION LABORATORIO -->
                <div class="col-md-7 col-sm-12">
                  <div class="box box-danger internal-shadow">
                    <div class="box-header">
                      <i class="fa fa-address-card-o"></i>
                      <h3 class="box-title">Información general</h3>
                    </div>
                    <div class="box-body">
                      <form id="form-work" class="" name="form-work" action="#">
                        <fieldset>
                          <div class="form-group">
                            <div class="col-md-12">
                              <label class="control-label" for="desc">
                                <strong>Descripción: </strong>{{ itemsel.desc }}</label>
                            </div>
                          </div>
                          <div class="form-group">
                            <div class="col-md-12">
                              <label class="control-label" for="dir">
                                <strong>Dirección: </strong>{{ itemsel.direspacio.dir }}</label>
                            </div>
                          </div>
                          <div class="form-group">
                            <div class="col-md-12">
                              <label class="control-label" for="esp">
                                <strong>Espacio: </strong>{{ itemsel.direspacio.espa }}</label>
                            </div>
                          </div>
                          <div class="form-group" style="margin-top: 20px;">
                            <div class="col-md-12">
                              <label class="control-label" for="dispo">
                                <strong>Disponibilidad:</strong>
                              </label>
                              <ul>
                                <li *ngFor="let dispo of itemsel.disponibilidad">
                                  {{ dispo.nombre }}
                                </li>
                              </ul>
                            </div>
                          </div>
                          <div class="form-group" style="margin-top: 20px;">
                            <div class="col-md-12">
                              <label class="control-label" for="dispo">
                                <strong>Teléfonos:</strong>
                              </label>
                              <ul>
                                <li *ngFor="let tel of itemsel.telefonos">
                                  {{ tel }}
                                </li>
                              </ul>
                            </div>
                          </div>
                          <div class="form-group">
                            <div class="col-md-12">
                              <label class="control-label" for="email">
                                <strong>Email: </strong>{{ itemsel.info.email }}</label>
                            </div>
                          </div>
                          <div class="form-group">
                            <div class="col-md-12">
                              <label class="control-label" for="subsede">
                                <strong>Términos y condiciones:</strong>
                                {{ itemsel.condiciones }}</label>
                            </div>
                          </div>
                        </fieldset>
                      </form>
                    </div>
                  </div>
                </div>
                <div class="col-md-5 col-sm-12">
                  <div class="box box-danger internal-shadow">
                    <div class="box-header">
                      <i class="fa fa-map"></i>
                      <h3 class="box-title">Detalles de ubicación</h3>
                    </div>
                    <div class="box-body">
                      <!-- See dist/js/pages/dashboard.js to activate the todoList plugin -->
                      <div id="mapa" style="height:250px"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-12">
              <div class="box box-danger internal-shadow">
                <div class="box-header">
                  <i class="fa fa-map"></i>
                  <h3 class="box-title">Oferta de servicios</h3>
                </div>
                <!-- /.box-header -->
                <div class="box-body">
                  <div *ngIf="dataSource2.data.length == 0" class="no-data">
                    <h4>
                      EL LABORATORIO SELECCIONADO NO CUENTA CON SERVICIOS ACTIVOS
                    </h4>
                  </div>
                  <div class="box-body" *ngIf="dataSource2.data.length != 0">
                    <div class="table-responsive">
                      <div class="example-container mat-elevation-z8">
                        <div class="example-header">
                          <mat-form-field>
                            <input style="outline: none;" matInput (keyup)="applyFilter2($event.target.value)" placeholder="Buscar por nombre de servicio"
                            />
                          </mat-form-field>
                        </div>
                        <mat-table #table2 #sort2="matSort" [dataSource]="dataSource2" matSort>
                          <!-- Position Column -->
                          <ng-container matColumnDef="nombre">
                            <mat-header-cell *matHeaderCellDef mat-sort-header>
                              Nombre de servicio
                            </mat-header-cell>
                            <mat-cell *matCellDef="let element">
                              {{ element.nombre }}
                            </mat-cell>
                          </ng-container>
                          <mat-header-row *matHeaderRowDef="displayedColumns2"></mat-header-row>
                          <mat-row *matRowDef="let row; columns: displayedColumns2" style="cursor: pointer;" (click)="cambiarDataServicio(row)" data-toggle="modal"
                            data-target="#myModalLabs"></mat-row>
                        </mat-table>
                        <mat-paginator #paginator2="matPaginator" [pageSize]="5" [pageSizeOptions]="[5, 10, 20]" [showFirstLastButtons]="true">
                        </mat-paginator>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- /.box-body -->
              </div>
            </div>
            <div class="col-md-12">
              <div class="box box-danger internal-shadow">
                <div class="box-header">
                  <i class="fa fa-map"></i>
                  <h3 class="box-title">Prácticas programadas</h3>
                </div>
                <!-- /.box-header -->
                <div class="box-body">
                  <div *ngIf="dataSource3.data.length == 0" class="no-data">
                    <h4>
                      EL LABORATORIO SELECCIONADO NO CUENTA CON PRÁCTICAS PROGRAMADAS PARA EL SEMESTRE ACTUAL
                    </h4>
                  </div>
                  <div class="box-body" *ngIf="dataSource3.data.length != 0">
                    <div class="table-responsive">
                      <div class="example-container mat-elevation-z8">
                        <div class="example-header">
                          <mat-form-field>
                            <input style="outline: none;" matInput (keyup)="applyFilter3($event.target.value)" placeholder="Buscar por nomobre de prácticas de docencia"
                            />
                          </mat-form-field>
                        </div>
                        <mat-table #tablepract #sort3="matSort" [dataSource]="dataSource3" matSort>
                          <ng-container matColumnDef="nombre">
                            <mat-header-cell *matHeaderCellDef mat-sort-header>
                              Nombre
                            </mat-header-cell>
                            <mat-cell *matCellDef="let element">
                              {{ element.nombre }}
                            </mat-cell>
                          </ng-container>
                          <mat-header-row *matHeaderRowDef="displayedColumns3"></mat-header-row>
                          <mat-row *matRowDef="let row; columns: displayedColumns3" style="cursor: pointer;" (click)="cambiarDataPrueba(row)" data-toggle="modal"
                            data-target="#myModalLabs2"></mat-row>
                        </mat-table>
                        <mat-paginator #paginator3="matPaginator" [pageSize]="5" [pageSizeOptions]="[5, 10, 20]" [showFirstLastButtons]="true">
                        </mat-paginator>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- /.box-body -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>
<!-- MODAL PARA VER INFORMACION DE SERVICIOS -->
<div class="modal fade divScroll" id="myModalLabs" role="dialog" *ngIf="servsel">
  <!-- SERVICIOS CON VARIACIONES -->
  <div *ngIf="servsel.variaciones.length != 0" class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="box box-danger shadow">
        <div class="box-header text-center">
          <i class="fa fa-laptop"></i>
          <h3 class="box-title">Información de servicio seleccionado</h3>
          <span style="color:#dd4b39; float:right; cursor: pointer;" class="glyphicon glyphicon-remove" (click)="cerrarModal('myModalLabs')"></span>
        </div>
        <div class="box-body">
          <div class="row">
            <!-- INFORMACIÓN DEL SERVICIO -->
            <div class="col-md-6 col-sm-12">
              <div class="box box-danger internal-shadow">
                <div class="box-header text-center">
                  <i class="fa fa-laptop"></i>
                  <h3 class="box-title">
                    Información de servicio seleccionado
                  </h3>
                </div>
                <div class="box-body">
                  <form id="form-workserv" class="" name="form-workserv" action="#">
                    <fieldset>
                      <div class="form-group">
                        <div class="col-md-12">
                          <label class="control-label" for="nombreserv">
                            <strong>Nombre :</strong>
                            {{ servsel.nombre }}</label>
                        </div>
                      </div>
                      <div class="form-group">
                        <div class="col-md-12">
                          <label class="control-label" for="descripserv">
                            <strong>Descripción:</strong>
                            {{ servsel.descripcion }}</label>
                        </div>
                      </div>
                      <div class="form-group">
                        <div *ngIf="servsel.condiciones.length != 0" class="col-md-12">
                          <label class="control-label" for="precioserv">
                            <strong>Términos y condiciones del servicio:</strong>
                          </label>
                          <div class="tCContainer">
                            <div class="form-group" *ngFor="
                              let item of servsel.condiciones;
                              let i = index
                            ">
                              <mat-checkbox name="{{ 'checkboxServ' + i }}" [(ngModel)]="
                                  condicionesobjetoServ['checkboxServ' + i]
                                ">
                                <p>{{ item }}</p>
                              </mat-checkbox>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div *ngIf="usuariounivalle" class="form-group">
                        <div class="col-md-12">
                          <label class="control-label" for="descripserv">
                            <strong>Descuento Univalle:</strong>
                            {{ servsel.descuento }} %</label>
                          <p class="modal-p">
                            * Debido a que usted es un usuario institucional de la Universidad del Valle, tiene derecho a un descuento sobre el costo
                            del servicio.
                          </p>
                        </div>
                      </div>
                      <div class="form-group">
                        <div *ngIf="servsel.parametros.length != 0" class="col-md-12">
                          <label class="control-label" for="precioserv">
                            <strong>Parámetros de servicio: (Opcional)</strong>
                          </label>
                          <div class="form-group" *ngFor="
                              let item of servsel.parametros;
                              let i = index
                            ">
                            <div class="col-md-6">
                              <label class="control-label" for="parserv">{{ item }}
                                <input class="form-control" name="{{ 'inputServ' + i }}" [(ngModel)]="parametrosServ['inputServ' + i]" type="text" />
                              </label>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div *ngIf="servsel.equipos.length != 0" class="form-group">
                        <div class="col-md-12 text-center">
                          <button class="btn btn-sm modal-button" style="float: right;" type="button" data-toggle="modal" data-target="#modalEquips">
                            Ver equipos asociados
                          </button>
                        </div>
                      </div>
                    </fieldset>
                  </form>
                </div>
              </div>
            </div>
            <!-- INFORMACIÓN DE VARIACIONES -->
            <div class="col-md-6 col-sm-12">
              <div class="box box-danger internal-shadow">
                <div class="box-header text-center">
                  <i class="fa fa-address-card-o"></i>
                  <h3 class="box-title">
                    Información de variaciones del servicio
                  </h3>
                </div>
                <div class="box-body">
                  <form id="form-workserv2" class="" name="form-workserv2" action="#">
                    <fieldset>
                      <div class="form-group">
                        <div class="col-md-12">
                          <label class="control-label" for="variacionserv">
                            <strong>Variaciones disponibles:</strong>
                          </label>
                          <select class="form-control" name="variatio" id="variato" [(ngModel)]="variacionSel" (change)="cambiarVariacion($event.target.value)">
                            <option value="" selected="selected" hidden="hidden">Seleccione una variación</option>
                            <option *ngFor="let item of servsel.variaciones" value="{{ item.id }}">{{ item.data.cfName }}</option>
                          </select>
                        </div>
                      </div>
                    </fieldset>
                    <fieldset *ngIf="variation">
                      <div class="form-group">
                        <div class="col-md-12">
                          <label class="control-label" for="nombreserv">
                            <strong>Nombre :</strong>
                            {{ variation.data.cfName }}</label>
                        </div>
                      </div>
                      <div class="form-group">
                        <div class="col-md-12">
                          <label class="control-label" for="descripserv">
                            <strong>Descripción:</strong>
                            {{ variation.data.cfDescription }}</label>
                        </div>
                      </div>
                      <div class="form-group">
                        <div class="col-md-12">
                          <label class="control-label" for="precioserv">
                            <strong>Precio: </strong>${{ variation.data.cfPrice }}
                          </label>
                        </div>
                      </div>
                      <div class="form-group">
                        <div *ngIf="variation.data.parametros != 0" class="col-md-12">
                          <label class="control-label" for="precioserv">
                            <strong>Parámetros de variación: (Opcional)</strong>
                          </label>
                          <div class="form-group" *ngFor="
                              let item of variation.data.parametros;
                              let i = index
                            ">
                            <div class="col-md-6">
                              <label class="control-label" for="parvar">{{ item }}
                                <input class="form-control" name="{{ 'input' + i }}" [(ngModel)]="parametros['input' + i]" type="text" />
                              </label>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="form-group">
                        <div class="col-md-12">
                          <label class="control-label" for="precioserv">
                            <strong>Términos y condiciones de variación:</strong>
                          </label>
                          <div class="tCContainer">
                            <div class="form-group" *ngFor="
                              let item of variation.data.cfConditions;
                              let i = index
                            ">
                              <mat-checkbox name="{{ 'checkbox' + i }}" [(ngModel)]="condicionesobjeto['checkbox' + i]">
                                <p>{{ item }}</p>
                              </mat-checkbox>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="form-group">
                        <div class="col-md-12 text-center">
                          <button class="btn btn-sm modal-button" type="button" (click)="agregarSolicitudServicio()">
                            Agregar esta variación a la solicitud
                          </button>
                        </div>
                      </div>
                    </fieldset>
                  </form>
                </div>
              </div>
            </div>
            <!-- DETALLES DE SOLICITUD -->
            <div class="col-md-12 col-sm-12" *ngIf="this.listaVariaciones.length != 0">
              <div *ngIf="this.listaVariaciones.length != 0" class="box box-danger internal-shadow">
                <div class="box-header text-center">
                  <i class="fa fa-briefcase"></i>
                  <h3 class="box-title">Detalles de solicitud</h3>
                </div>
                <div class="box-body">
                  <form action="">
                    <fieldset>
                      <div style="padding-left: 15px; padding-right: 15px">
                        <label class="control-label" for="condiciones">
                          <strong>Variaciones incluídas en esta solicitud:
                          </strong>
                        </label>
                        <ul class="nav nav-stacked">
                          <li *ngFor="let item of this.listaVariaciones">
                            <a>
                              {{ item.data.data.cfName }}
                              <span style="cursor: pointer;" (click)="quitarVariacion(item.data.id)" class="pull-right badge bg-red">-</span>
                            </a>
                          </li>
                        </ul>
                      </div>
                      <div class="form-group">
                        <div class="col-md-12">
                          <label class="control-label" for="condiciones">
                            <strong>Total: $</strong>
                            {{ this.preciototal }}
                          </label>
                        </div>
                      </div>
                      <div *ngIf="usuariounivalle" class="form-group">
                        <div class="col-md-12">
                          <label class="control-label" for="precioserv">
                            <strong>Total descuento: </strong>
                            ${{ this.descuento }}
                          </label>
                        </div>
                      </div>
                      <div *ngIf="usuariounivalle" class="form-group">
                        <div class="col-md-12">
                          <label class="control-label" for="precioserv">
                            <strong>Precio total con descuento incluído:
                            </strong>
                            ${{ this.preciocondescuento }}
                          </label>
                        </div>
                      </div>
                      <div *ngIf="usuariounivalle">
                        <div class="form-group" style="margin-top: 20px;">
                          <div class="col-md-12">
                            <label class="control-label">
                              <strong>Financiación: </strong>
                            </label>
                            <p class="modal-p">
                              * Debido a que usted es un usuario institucional de la Universidad del Valle, se requiere que seleccione una o varias de
                              las opciones de financiación.
                            </p>
                            <mat-form-field>
                              <mat-select placeholder="Seleccione una o varias opciones" [formControl]="selecunivallelab" multiple (change)="selectorunivalle()">
                                <mat-option *ngFor="let opciones of univalle; let i= index;" [value]="i">{{opciones}}</mat-option>
                              </mat-select>
                            </mat-form-field>

                          </div>
                        </div>
                        <div *ngIf="habilitarci" class="form-group" style="margin-top: 20px;">
                          <div class="col-md-12">
                            <p>
                              Como selecciono proyecto de investigación, por favor diligencie el respectivo CI
                            </p>
                            <input id="univ" (focusout)="ciCheck($event)" [(ngModel)]="this.valorci" name="univ" class="form-control" type="text" />
                            <p>{{ status }}</p>
                          </div>
                        </div>
                      </div>
                      <div class="form-group">
                        <div class="col-md-12" style="margin-top:10px">
                          <label class="control-label" for="condiciones">
                            <strong>Comentarios adicionales:</strong>
                          </label>
                          <textarea name="condiciones" rows="5" [(ngModel)]="campoCondicion" id="condiciones" style="width: 100%;">
                          </textarea>
                        </div>
                      </div>
                      <div class="form-group">
                        <div class="col-md-12 text-center">
                          <button class="btn btn-sm modal-button" type="button" (click)="enviarSolicitudServicio('convariaciones')">
                            Enviar solicitud
                          </button>
                        </div>
                      </div>
                    </fieldset>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- SERVICIOS SIN VARIACIONES -->
  <div *ngIf="servsel.variaciones.length == 0" class="modal-dialog modal-md">
    <div class="modal-content">
      <div class="modal-body">
        <div class="box box-danger shadow">
          <div class="box-header text-center">
            <i class="fa fa-laptop"></i>
            <h3 class="box-title">Información de servicio seleccionado</h3>
            <span style="color:#dd4b39; float:right; cursor: pointer;" class="glyphicon glyphicon-remove" (click)="cerrarModal('myModalLabs')"></span>
          </div>
          <!-- /.box-header -->
          <div class="box-body">
            <form id="form-workserv" class="" name="form-workserv" action="#">
              <fieldset>
                <div class="form-group">
                  <div class="col-md-12">
                    <label class="control-label" for="nombreserv">
                      <strong>Nombre :</strong> {{ servsel.nombre }}</label>
                  </div>
                </div>
                <div class="form-group">
                  <div class="col-md-12">
                    <label class="control-label" for="descripserv">
                      <strong>Descripción:</strong>
                      {{ servsel.descripcion }}</label>
                  </div>
                </div>
                <div class="form-group">
                  <div *ngIf="servsel.condiciones.length != 0" class="col-md-12">
                    <label class="control-label" for="precioserv">
                      <strong>Términos y condiciones:</strong>
                    </label>
                    <div class="form-group" *ngFor="let item of servsel.condiciones; let i = index">
                      <!-- <label class="control-label" for="precioserv">
                        <input
                          name="{{ 'checkboxServ' + i }}"
                          [(ngModel)]="
                            condicionesobjetoServ['checkboxServ' + i]
                          "
                          type="checkbox"
                        />
                        {{ item }}</label
                      > -->
                      <mat-checkbox name="{{ 'checkboxServ' + i }}" [(ngModel)]="condicionesobjetoServ['checkboxServ' + i]">
                        <p>{{ item }}</p>
                      </mat-checkbox>
                    </div>
                  </div>
                </div>
                <div class="form-group">
                  <div class="col-md-12">
                    <label class="control-label" for="precioserv">
                      <strong>Precio del servicio: </strong>$ {{ servsel.precio }}</label>
                  </div>
                </div>
                <div *ngIf="usuariounivalle" class="form-group">
                  <div class="col-md-12">
                    <label class="control-label" for="descripserv">
                      <strong>Descuento Univalle:</strong>
                      {{ servsel.descuento }}%
                    </label>
                    <p class="modal-p">
                      * Debido a que usted es un usuario institucional de la Universidad del Valle, tiene derecho a un descuento sobre el costo
                      del servicio.
                    </p>
                  </div>
                </div>
                <div *ngIf="usuariounivalle" class="form-group">
                  <div class="col-md-12">
                    <label class="control-label" for="precioserv">
                      <strong>Total descuento: </strong>$ {{ this.descuento }}</label>
                  </div>
                </div>
                <div *ngIf="usuariounivalle" class="form-group">
                  <div class="col-md-12">
                    <label class="control-label" for="precioserv">
                      <strong>Precio total con descuento incluído: </strong>$ {{ this.preciocondescuento }}</label>
                  </div>
                </div>
                <div class="form-group">
                  <div *ngIf="servsel.parametros.length != 0" class="col-md-12">
                    <label class="control-label" for="precioserv">
                      <strong>Parámetros de servicio: (Opcional)</strong>
                    </label>
                    <div class="form-group" *ngFor="let item of servsel.parametros; let i = index">
                      <div class="col-md-6">
                        <label class="control-label" for="parserv">{{ item }}
                          <input class="form-control" name="{{ 'inputServ' + i }}" [(ngModel)]="parametrosServ['inputServ' + i]" type="text" />
                        </label>
                      </div>
                    </div>
                  </div>
                </div>
                <div *ngIf="usuariounivalle">
                  <div class="form-group" style="margin-top: 20px;">
                    <div class="col-md-12">
                      <label class="control-label">
                        <strong>Financiación: </strong>
                      </label>
                      <p class="modal-p">
                        * Debido a que usted es un usuario institucional de la Universidad del Valle, se requiere que seleccione una de las opciones
                        de financiación.
                      </p>
                      <mat-form-field>
                        <mat-select placeholder="Seleccione una o varias opciones" [formControl]="selecunivallelab" multiple (change)="selectorunivalle()">
                          <mat-option *ngFor="let opciones of univalle; let i= index;" [value]="i">{{opciones}}</mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                  </div>
                  <div *ngIf="habilitarci" class="form-group" style="margin-top: 20px;">
                    <div class="col-md-12">
                      <p>
                        Como selecciono proyecto de investigación, por favor diligencie el respectivo CI
                      </p>
                      <label class="control-label" for="UNIV">
                        <strong>CI:</strong>
                      </label>
                      <input id="univ" (focusout)="ciCheck($event)" [(ngModel)]="this.valorci" name="univci" class="form-control" type="text" />
                      <p>{{ status }}</p>
                    </div>
                  </div>
                </div>
                <div *ngIf="servsel.equipos.length != 0" class="form-group">
                  <div class="col-md-12 text-center">
                    <button class="btn2 btn-danger danger" style="float: right;" type="button" data-toggle="modal" data-target="#modalEquips">
                      Ver equipos asociados
                    </button>
                  </div>
                </div>
                <div class="form-group">
                  <div class="col-md-12" style="margin-top:10px">
                    <label class="control-label" for="condiciones">
                      <strong>Comentarios adicionales:</strong>
                    </label>
                    <textarea name="condiciones" rows="5" [(ngModel)]="campoCondicion" id="condiciones" style="width: 100%;"></textarea>
                  </div>
                </div>
                <div class="form-group">
                  <div class="col-md-12 text-center">
                    <button class="btn btn-sm modal-button" type="button" (click)="enviarSolicitudServicio('sinvariaciones')">
                      Solicitar este servicio
                    </button>
                  </div>
                </div>
              </fieldset>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- MODAL PARA VER INFORMACION DE PRACTICAS -->
<div class="modal fade divScroll" id="myModalLabs2" role="dialog" *ngIf="prubsel">
  <div class="modal-dialog modal-md">
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-body">
        <div class="box box-danger">
          <div class="box-header text-center">
            <i class="fa fa-address-card-o"></i>
            <h3 class="box-title">Información de practica docente seleccionada</h3>
            <span style="color:#dd4b39; float:right; cursor: pointer;" class="glyphicon glyphicon-remove" (click)="cerrarModal('myModalLabs2')"></span>
          </div>
          <!-- /.box-header -->
          <div class="box-body">
            <form id="form-workprub" class="" name="form-workprub" action="#">
              <fieldset>
                <div class="form-group">
                  <div class="col-md-12">
                    <label class="control-label" for="nombreprub">
                      <strong>Nombre de práctica:</strong> {{ prubsel.nombre }}</label>
                  </div>
                </div>
                <div class="form-group">
                  <div class="col-md-12" style="margin-top: 20px;">
                    <button class="btn btn-sm modal-button" style="float: right;" data-toggle="modal" data-target="#practicaprog" type="button">
                      Ver Programación
                    </button>
                  </div>
                </div>
              </fieldset>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!--MODAL PARA MOSTRAR EQUIPOS RELACIONADOS-->
<div class="modal fade" id="modalEquips" role="dialog" *ngIf="servsel">
  <div class="modal-dialog modal-md">
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-body">
        <div class="box box-danger">
          <div class="box-header">
            <i class="fa fa-map"></i>

            <h3 class="box-title">Información Equipos Relacionados</h3>
            <span style="color:#dd4b39; float:right; cursor: pointer;" class="glyphicon glyphicon-remove" (click)="cerrarModal('modalEquips')"></span>
          </div>

          <div class="box-body">
            <div class="panel-group" id="accordion">
              <div *ngFor="let item of servsel.equipos; let i = index" class="panel panel-default">
                <div class="panel-heading">
                  <h4 class="panel-title">
                    <a data-toggle="collapse" data-parent="#accordion" href="#collapseEquipos{{ i }}">{{ item.nombre }}</a>
                  </h4>
                </div>
                <div id="collapseEquipos{{ i }}" class="panel-collapse collapse">
                  <div class="panel-body">{{ item.descripcion }}</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- modal de horario de practica -->
<div class="modal fade" id="practicaprog" role="dialog">
  <div class="modal-dialog modal-lg">
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-body">
        <div class="box box-danger">
          <div class="box-header text-center">
            <i class="fa fa-calendar"></i>

            <h1 class="box-title">Programación de la Práctica</h1>
            <span style="color:#dd4b39; float:right; cursor: pointer;" class="glyphicon glyphicon-remove" (click)="cerrarModal('practicaprog')"></span>
          </div>
          <!-- /.box-header -->
          <div class="box-body">
            <div *ngIf="prubsel">
              <div class="form-group">
                <div class="col-md-12">
                  <label class="control-label" for="semestre">
                    <strong>Semestre:</strong>
                    {{ prubsel.programacion.semestre }}</label>
                </div>
              </div>
              <div class="form-group">
                <div class="col-md-12">
                  <label class="control-label" for="numero">
                    <strong>No. estudiantes:</strong>
                    {{ prubsel.programacion.estudiantes }}</label>
                </div>
              </div>
            </div>
            <div class="col-md-12 table-responsive">
              <div class="cal" id="calendar2"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<app-spinner></app-spinner>
