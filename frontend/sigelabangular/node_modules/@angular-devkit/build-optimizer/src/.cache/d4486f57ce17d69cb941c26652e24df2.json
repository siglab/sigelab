{"remainingRequest":"/home/jeff/Projects/sigelab/frontend/sigelabangular/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js??ref--3-1!/home/jeff/Projects/sigelab/frontend/sigelabangular/node_modules/ngx-bootstrap/datepicker/datepicker-inner.component.js","dependencies":[{"path":"/home/jeff/Projects/sigelab/frontend/sigelabangular/node_modules/ngx-bootstrap/datepicker/datepicker-inner.component.js","mtime":1520876970000},{"path":"/home/jeff/Projects/sigelab/frontend/sigelabangular/node_modules/cache-loader/dist/cjs.js","mtime":1553019068977},{"path":"/home/jeff/Projects/sigelab/frontend/sigelabangular/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js","mtime":1519266497000}],"contextDependencies":[],"result":["/* tslint:disable:max-file-line-count */\nimport { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { DateFormatter } from './date-formatter';\n// const MIN_DATE:Date = void 0;\n// const MAX_DATE:Date = void 0;\n// const DAYS_IN_MONTH = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n/*\n const KEYS = {\n 13: 'enter',\n 32: 'space',\n 33: 'pageup',\n 34: 'pagedown',\n 35: 'end',\n 36: 'home',\n 37: 'left',\n 38: 'up',\n 39: 'right',\n 40: 'down'\n };\n */\nvar DatePickerInnerComponent = /*@__PURE__*/ (function () {\n    function DatePickerInnerComponent() {\n        this.selectionDone = new EventEmitter(undefined);\n        this.update = new EventEmitter(false);\n        this.activeDateChange = new EventEmitter(undefined);\n        this.stepDay = {};\n        this.stepMonth = {};\n        this.stepYear = {};\n        this.modes = ['day', 'month', 'year'];\n        this.dateFormatter = new DateFormatter();\n    }\n    Object.defineProperty(DatePickerInnerComponent.prototype, \"activeDate\", {\n        get: function () {\n            return this._activeDate;\n        },\n        set: function (value) {\n            this._activeDate = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // todo: add formatter value to Date object\n    DatePickerInnerComponent.prototype.ngOnInit = function () {\n        // todo: use date for unique value\n        this.uniqueId = \"datepicker--\" + Math.floor(Math.random() * 10000);\n        if (this.initDate) {\n            this.activeDate = this.initDate;\n            this.selectedDate = new Date(this.activeDate.valueOf());\n            this.update.emit(this.activeDate);\n        }\n        else if (this.activeDate === undefined) {\n            this.activeDate = new Date();\n        }\n    };\n    // this.refreshView should be called here to reflect the changes on the fly\n    // tslint:disable-next-line:no-unused-variable\n    DatePickerInnerComponent.prototype.ngOnChanges = function (changes) {\n        this.refreshView();\n        this.checkIfActiveDateGotUpdated(changes.activeDate);\n    };\n    // Check if activeDate has been update and then emit the activeDateChange with the new date\n    DatePickerInnerComponent.prototype.checkIfActiveDateGotUpdated = function (activeDate) {\n        if (activeDate && !activeDate.firstChange) {\n            var previousValue = activeDate.previousValue;\n            if (previousValue &&\n                previousValue instanceof Date &&\n                previousValue.getTime() !== activeDate.currentValue.getTime()) {\n                this.activeDateChange.emit(this.activeDate);\n            }\n        }\n    };\n    DatePickerInnerComponent.prototype.setCompareHandler = function (handler, type) {\n        if (type === 'day') {\n            this.compareHandlerDay = handler;\n        }\n        if (type === 'month') {\n            this.compareHandlerMonth = handler;\n        }\n        if (type === 'year') {\n            this.compareHandlerYear = handler;\n        }\n    };\n    DatePickerInnerComponent.prototype.compare = function (date1, date2) {\n        if (date1 === undefined || date2 === undefined) {\n            return undefined;\n        }\n        if (this.datepickerMode === 'day' && this.compareHandlerDay) {\n            return this.compareHandlerDay(date1, date2);\n        }\n        if (this.datepickerMode === 'month' && this.compareHandlerMonth) {\n            return this.compareHandlerMonth(date1, date2);\n        }\n        if (this.datepickerMode === 'year' && this.compareHandlerYear) {\n            return this.compareHandlerYear(date1, date2);\n        }\n        return void 0;\n    };\n    DatePickerInnerComponent.prototype.setRefreshViewHandler = function (handler, type) {\n        if (type === 'day') {\n            this.refreshViewHandlerDay = handler;\n        }\n        if (type === 'month') {\n            this.refreshViewHandlerMonth = handler;\n        }\n        if (type === 'year') {\n            this.refreshViewHandlerYear = handler;\n        }\n    };\n    DatePickerInnerComponent.prototype.refreshView = function () {\n        if (this.datepickerMode === 'day' && this.refreshViewHandlerDay) {\n            this.refreshViewHandlerDay();\n        }\n        if (this.datepickerMode === 'month' && this.refreshViewHandlerMonth) {\n            this.refreshViewHandlerMonth();\n        }\n        if (this.datepickerMode === 'year' && this.refreshViewHandlerYear) {\n            this.refreshViewHandlerYear();\n        }\n    };\n    DatePickerInnerComponent.prototype.dateFilter = function (date, format) {\n        return this.dateFormatter.format(date, format, this.locale);\n    };\n    DatePickerInnerComponent.prototype.isActive = function (dateObject) {\n        if (this.compare(dateObject.date, this.activeDate) === 0) {\n            this.activeDateId = dateObject.uid;\n            return true;\n        }\n        return false;\n    };\n    DatePickerInnerComponent.prototype.createDateObject = function (date, format) {\n        var dateObject = {};\n        dateObject.date = new Date(date.getFullYear(), date.getMonth(), date.getDate());\n        dateObject.date = this.fixTimeZone(dateObject.date);\n        dateObject.label = this.dateFilter(date, format);\n        dateObject.selected = this.compare(date, this.selectedDate) === 0;\n        dateObject.disabled = this.isDisabled(date);\n        dateObject.current = this.compare(date, new Date()) === 0;\n        dateObject.customClass = this.getCustomClassForDate(dateObject.date);\n        return dateObject;\n    };\n    DatePickerInnerComponent.prototype.split = function (arr, size) {\n        var arrays = [];\n        while (arr.length > 0) {\n            arrays.push(arr.splice(0, size));\n        }\n        return arrays;\n    };\n    // Fix a hard-reproducible bug with timezones\n    // The bug depends on OS, browser, current timezone and current date\n    // i.e.\n    // var date = new Date(2014, 0, 1);\n    // console.log(date.getFullYear(), date.getMonth(), date.getDate(),\n    // date.getHours()); can result in \"2013 11 31 23\" because of the bug.\n    DatePickerInnerComponent.prototype.fixTimeZone = function (date) {\n        var hours = date.getHours();\n        return new Date(date.getFullYear(), date.getMonth(), date.getDate(), hours === 23 ? hours + 2 : 0);\n    };\n    DatePickerInnerComponent.prototype.select = function (date, isManual) {\n        if (isManual === void 0) {\n            isManual = true;\n        }\n        if (this.datepickerMode === this.minMode) {\n            if (!this.activeDate) {\n                this.activeDate = new Date(0, 0, 0, 0, 0, 0, 0);\n            }\n            this.activeDate = new Date(date.getFullYear(), date.getMonth(), date.getDate());\n            this.activeDate = this.fixTimeZone(this.activeDate);\n            if (isManual) {\n                this.selectionDone.emit(this.activeDate);\n            }\n        }\n        else {\n            this.activeDate = new Date(date.getFullYear(), date.getMonth(), date.getDate());\n            this.activeDate = this.fixTimeZone(this.activeDate);\n            if (isManual) {\n                this.datepickerMode = this.modes[this.modes.indexOf(this.datepickerMode) - 1];\n            }\n        }\n        this.selectedDate = new Date(this.activeDate.valueOf());\n        this.update.emit(this.activeDate);\n        this.refreshView();\n    };\n    DatePickerInnerComponent.prototype.move = function (direction) {\n        var expectedStep;\n        if (this.datepickerMode === 'day') {\n            expectedStep = this.stepDay;\n        }\n        if (this.datepickerMode === 'month') {\n            expectedStep = this.stepMonth;\n        }\n        if (this.datepickerMode === 'year') {\n            expectedStep = this.stepYear;\n        }\n        if (expectedStep) {\n            var year = this.activeDate.getFullYear() + direction * (expectedStep.years || 0);\n            var month = this.activeDate.getMonth() + direction * (expectedStep.months || 0);\n            this.activeDate = new Date(year, month, 1);\n            this.refreshView();\n            this.activeDateChange.emit(this.activeDate);\n        }\n    };\n    DatePickerInnerComponent.prototype.toggleMode = function (_direction) {\n        var direction = _direction || 1;\n        if ((this.datepickerMode === this.maxMode && direction === 1) ||\n            (this.datepickerMode === this.minMode && direction === -1)) {\n            return;\n        }\n        this.datepickerMode = this.modes[this.modes.indexOf(this.datepickerMode) + direction];\n        this.refreshView();\n    };\n    DatePickerInnerComponent.prototype.getCustomClassForDate = function (date) {\n        var _this = this;\n        if (!this.customClass) {\n            return '';\n        }\n        // todo: build a hash of custom classes, it will work faster\n        var customClassObject = this.customClass.find(function (customClass) {\n            return (customClass.date.valueOf() === date.valueOf() &&\n                customClass.mode === _this.datepickerMode);\n        }, this);\n        return customClassObject === undefined ? '' : customClassObject.clazz;\n    };\n    DatePickerInnerComponent.prototype.compareDateDisabled = function (date1Disabled, date2) {\n        if (date1Disabled === undefined || date2 === undefined) {\n            return undefined;\n        }\n        if (date1Disabled.mode === 'day' && this.compareHandlerDay) {\n            return this.compareHandlerDay(date1Disabled.date, date2);\n        }\n        if (date1Disabled.mode === 'month' && this.compareHandlerMonth) {\n            return this.compareHandlerMonth(date1Disabled.date, date2);\n        }\n        if (date1Disabled.mode === 'year' && this.compareHandlerYear) {\n            return this.compareHandlerYear(date1Disabled.date, date2);\n        }\n        return undefined;\n    };\n    DatePickerInnerComponent.prototype.isDisabled = function (date) {\n        var _this = this;\n        var isDateDisabled = false;\n        if (this.dateDisabled) {\n            this.dateDisabled.forEach(function (disabledDate) {\n                if (_this.compareDateDisabled(disabledDate, date) === 0) {\n                    isDateDisabled = true;\n                }\n            });\n        }\n        if (this.dayDisabled) {\n            isDateDisabled =\n                isDateDisabled ||\n                    this.dayDisabled.indexOf(date.getDay()) > -1;\n        }\n        return (isDateDisabled ||\n            (this.minDate && this.compare(date, this.minDate) < 0) ||\n            (this.maxDate && this.compare(date, this.maxDate) > 0));\n    };\n    return DatePickerInnerComponent;\n}());\nexport { DatePickerInnerComponent };\n//# sourceMappingURL=datepicker-inner.component.js.map \n",null]}